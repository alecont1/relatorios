---
phase: 02-authentication-system
plan: 06
type: execute
wave: 3
depends_on: ["02-03", "02-05"]
files_modified:
  - frontend/src/features/admin/types.ts
  - frontend/src/features/admin/api.ts
  - frontend/src/features/admin/components/UserList.tsx
  - frontend/src/features/admin/components/CreateUserForm.tsx
  - frontend/src/features/admin/components/CreateUserModal.tsx
  - frontend/src/pages/UsersPage.tsx
  - frontend/src/App.tsx
autonomous: true

must_haves:
  truths:
    - "Admin can view list of users in their tenant"
    - "Admin can create new user with strong password validation"
    - "User creation form shows password requirements"
    - "UsersPage is only accessible to admin and superadmin roles"
    - "Created user appears in user list immediately"
    - "User deletion removes user from list"
  artifacts:
    - path: "frontend/src/features/admin/components/UserList.tsx"
      provides: "Table of users with actions"
      exports: ["UserList"]
    - path: "frontend/src/features/admin/components/CreateUserForm.tsx"
      provides: "Form for creating new users"
      exports: ["CreateUserForm"]
    - path: "frontend/src/pages/UsersPage.tsx"
      provides: "User management page layout"
      exports: ["UsersPage"]
  key_links:
    - from: "frontend/src/features/admin/api.ts"
      to: "frontend/src/lib/axios.ts"
      via: "API calls for user CRUD"
      pattern: "api.post.*users"
    - from: "frontend/src/App.tsx"
      to: "frontend/src/pages/UsersPage.tsx"
      via: "Protected route with role restriction"
      pattern: "allowedRoles.*admin.*superadmin"
---

<objective>
Create user management UI for admins: user list with pagination, user creation form with strong password validation, and user deletion.

Purpose: Enable admins to create user accounts for technicians (AUTH-05). Per CONTEXT.md, there's no self-registration - admins create all accounts.
Output: Working /users page with user CRUD functionality restricted to admin/superadmin roles.
</objective>

<execution_context>
@C:\Users\xande\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\xande\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/02-authentication-system/02-CONTEXT.md
@.planning/phases/02-authentication-system/02-RESEARCH.md

From CONTEXT.md:
- Admin creates complete account with email + name + password
- Strong password: 8+ chars, uppercase, number, special character
- Hard delete only (no soft delete)
- Flow: Admin creates account, shares credentials via external channel (WhatsApp, etc)

From 02-03-PLAN:
- POST /api/v1/users creates user
- GET /api/v1/users returns paginated list
- DELETE /api/v1/users/{id} deletes user

From 02-05-PLAN:
- strongPasswordSchema in features/auth/schemas.ts
- PasswordInput component
- ProtectedRoute with allowedRoles

Role mapping for display:
- user -> "Tecnico"
- manager -> "Gerente"
- admin -> "Administrador"
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create admin feature structure and API hooks</name>
  <files>
    frontend/src/features/admin/types.ts
    frontend/src/features/admin/api.ts
    frontend/src/features/admin/index.ts
  </files>
  <action>
    1. Create frontend/src/features/admin/types.ts:
       ```typescript
       import type { User } from '@/features/auth';

       export interface UsersListResponse {
         users: User[];
         total: number;
       }

       export interface CreateUserRequest {
         email: string;
         full_name: string;
         password: string;
         role: 'user' | 'manager' | 'admin';
       }

       export const ROLE_LABELS: Record<string, string> = {
         user: 'Tecnico',
         manager: 'Gerente',
         admin: 'Administrador',
         superadmin: 'Super Admin',
       };
       ```

    2. Create frontend/src/features/admin/api.ts:
       ```typescript
       import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
       import { api } from '@/lib/axios';
       import type { User } from '@/features/auth';
       import type { UsersListResponse, CreateUserRequest } from './types';

       /**
        * Fetch users list with pagination.
        */
       export function useUsers(skip = 0, limit = 50) {
         return useQuery({
           queryKey: ['users', skip, limit],
           queryFn: async (): Promise<UsersListResponse> => {
             const { data } = await api.get<UsersListResponse>('/api/v1/users', {
               params: { skip, limit },
             });
             return data;
           },
         });
       }

       /**
        * Create a new user.
        */
       export function useCreateUser() {
         const queryClient = useQueryClient();

         return useMutation({
           mutationFn: async (userData: CreateUserRequest): Promise<User> => {
             const { data } = await api.post<User>('/api/v1/users', userData);
             return data;
           },
           onSuccess: () => {
             // Invalidate users list to trigger refetch
             queryClient.invalidateQueries({ queryKey: ['users'] });
           },
         });
       }

       /**
        * Delete a user.
        */
       export function useDeleteUser() {
         const queryClient = useQueryClient();

         return useMutation({
           mutationFn: async (userId: string): Promise<void> => {
             await api.delete(`/api/v1/users/${userId}`);
           },
           onSuccess: () => {
             queryClient.invalidateQueries({ queryKey: ['users'] });
           },
         });
       }

       /**
        * Update a user.
        */
       export function useUpdateUser() {
         const queryClient = useQueryClient();

         return useMutation({
           mutationFn: async ({
             userId,
             data,
           }: {
             userId: string;
             data: Partial<CreateUserRequest>;
           }): Promise<User> => {
             const { data: user } = await api.patch<User>(
               `/api/v1/users/${userId}`,
               data
             );
             return user;
           },
           onSuccess: () => {
             queryClient.invalidateQueries({ queryKey: ['users'] });
           },
         });
       }
       ```

    3. Create frontend/src/features/admin/index.ts:
       ```typescript
       export { useUsers, useCreateUser, useDeleteUser, useUpdateUser } from './api';
       export { ROLE_LABELS } from './types';
       export type { UsersListResponse, CreateUserRequest } from './types';
       ```
  </action>
  <verify>
    cd frontend && npx tsc --noEmit src/features/admin/api.ts
  </verify>
  <done>Admin API hooks created for user CRUD operations</done>
</task>

<task type="auto">
  <name>Task 2: Create UserList and CreateUserForm components</name>
  <files>
    frontend/src/features/admin/components/UserList.tsx
    frontend/src/features/admin/components/CreateUserForm.tsx
    frontend/src/features/admin/components/CreateUserModal.tsx
    frontend/src/features/admin/components/index.ts
  </files>
  <action>
    1. Create frontend/src/features/admin/components/UserList.tsx:
       ```typescript
       import { useState } from 'react';
       import { Trash2, Loader2 } from 'lucide-react';
       import { useUsers, useDeleteUser, ROLE_LABELS } from '../';
       import type { User } from '@/features/auth';

       interface UserListProps {
         onUserDeleted?: () => void;
       }

       export function UserList({ onUserDeleted }: UserListProps) {
         const { data, isLoading, error } = useUsers();
         const deleteUser = useDeleteUser();
         const [deletingId, setDeletingId] = useState<string | null>(null);

         const handleDelete = async (user: User) => {
           if (!confirm(`Tem certeza que deseja excluir ${user.full_name}?`)) {
             return;
           }

           setDeletingId(user.id);
           try {
             await deleteUser.mutateAsync(user.id);
             onUserDeleted?.();
           } catch (error: unknown) {
             const axiosError = error as {
               response?: { data?: { detail?: string } };
             };
             alert(axiosError.response?.data?.detail || 'Erro ao excluir usuario');
           } finally {
             setDeletingId(null);
           }
         };

         if (isLoading) {
           return (
             <div className="flex items-center justify-center py-8">
               <Loader2 className="h-8 w-8 animate-spin text-blue-600" />
             </div>
           );
         }

         if (error) {
           return (
             <div className="rounded-lg bg-red-50 p-4 text-red-700">
               Erro ao carregar usuarios
             </div>
           );
         }

         if (!data?.users.length) {
           return (
             <div className="py-8 text-center text-gray-500">
               Nenhum usuario encontrado
             </div>
           );
         }

         return (
           <div className="overflow-hidden rounded-lg border border-gray-200">
             <table className="min-w-full divide-y divide-gray-200">
               <thead className="bg-gray-50">
                 <tr>
                   <th className="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">
                     Nome
                   </th>
                   <th className="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">
                     Email
                   </th>
                   <th className="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">
                     Cargo
                   </th>
                   <th className="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">
                     Status
                   </th>
                   <th className="relative px-6 py-3">
                     <span className="sr-only">Acoes</span>
                   </th>
                 </tr>
               </thead>
               <tbody className="divide-y divide-gray-200 bg-white">
                 {data.users.map((user) => (
                   <tr key={user.id} className="hover:bg-gray-50">
                     <td className="whitespace-nowrap px-6 py-4">
                       <div className="font-medium text-gray-900">
                         {user.full_name}
                       </div>
                     </td>
                     <td className="whitespace-nowrap px-6 py-4 text-gray-500">
                       {user.email}
                     </td>
                     <td className="whitespace-nowrap px-6 py-4">
                       <span className="inline-flex rounded-full bg-blue-100 px-2 text-xs font-semibold leading-5 text-blue-800">
                         {ROLE_LABELS[user.role] || user.role}
                       </span>
                     </td>
                     <td className="whitespace-nowrap px-6 py-4">
                       <span
                         className={`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${
                           user.is_active
                             ? 'bg-green-100 text-green-800'
                             : 'bg-red-100 text-red-800'
                         }`}
                       >
                         {user.is_active ? 'Ativo' : 'Inativo'}
                       </span>
                     </td>
                     <td className="whitespace-nowrap px-6 py-4 text-right text-sm font-medium">
                       <button
                         onClick={() => handleDelete(user)}
                         disabled={deletingId === user.id}
                         className="text-red-600 hover:text-red-900 disabled:opacity-50"
                         title="Excluir usuario"
                       >
                         {deletingId === user.id ? (
                           <Loader2 className="h-5 w-5 animate-spin" />
                         ) : (
                           <Trash2 className="h-5 w-5" />
                         )}
                       </button>
                     </td>
                   </tr>
                 ))}
               </tbody>
             </table>
             {data.total > data.users.length && (
               <div className="bg-gray-50 px-6 py-3 text-sm text-gray-500">
                 Mostrando {data.users.length} de {data.total} usuarios
               </div>
             )}
           </div>
         );
       }
       ```

    2. Create frontend/src/features/admin/components/CreateUserForm.tsx:
       ```typescript
       import { useForm } from 'react-hook-form';
       import { zodResolver } from '@hookform/resolvers/zod';
       import { Loader2 } from 'lucide-react';
       import { createUserSchema, type CreateUserFormData } from '@/features/auth';
       import { PasswordInput } from '@/features/auth/components/PasswordInput';
       import { useCreateUser } from '../api';

       interface CreateUserFormProps {
         onSuccess?: () => void;
         onCancel?: () => void;
       }

       export function CreateUserForm({ onSuccess, onCancel }: CreateUserFormProps) {
         const createUser = useCreateUser();

         const {
           register,
           handleSubmit,
           formState: { errors, isSubmitting },
           setError,
           reset,
         } = useForm<CreateUserFormData>({
           resolver: zodResolver(createUserSchema),
           defaultValues: {
             email: '',
             full_name: '',
             password: '',
             role: 'user',
           },
         });

         const onSubmit = async (data: CreateUserFormData) => {
           try {
             await createUser.mutateAsync(data);
             reset();
             onSuccess?.();
           } catch (error: unknown) {
             const axiosError = error as {
               response?: { data?: { detail?: string } };
             };
             setError('root', {
               message: axiosError.response?.data?.detail || 'Erro ao criar usuario',
             });
           }
         };

         return (
           <form onSubmit={handleSubmit(onSubmit)} className="space-y-4">
             {/* Full Name */}
             <div>
               <label
                 htmlFor="full_name"
                 className="mb-1 block text-sm font-medium text-gray-700"
               >
                 Nome completo
               </label>
               <input
                 {...register('full_name')}
                 type="text"
                 id="full_name"
                 className={`
                   block w-full rounded-lg border border-gray-300 px-4 py-3
                   focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20
                   ${errors.full_name ? 'border-red-500' : ''}
                 `}
               />
               {errors.full_name && (
                 <p className="mt-1 text-sm text-red-600">
                   {errors.full_name.message}
                 </p>
               )}
             </div>

             {/* Email */}
             <div>
               <label
                 htmlFor="create_email"
                 className="mb-1 block text-sm font-medium text-gray-700"
               >
                 Email
               </label>
               <input
                 {...register('email')}
                 type="email"
                 id="create_email"
                 className={`
                   block w-full rounded-lg border border-gray-300 px-4 py-3
                   focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20
                   ${errors.email ? 'border-red-500' : ''}
                 `}
               />
               {errors.email && (
                 <p className="mt-1 text-sm text-red-600">
                   {errors.email.message}
                 </p>
               )}
             </div>

             {/* Password */}
             <div>
               <PasswordInput
                 {...register('password')}
                 label="Senha"
                 id="create_password"
                 error={errors.password?.message}
               />
               <p className="mt-1 text-xs text-gray-500">
                 Minimo 8 caracteres, com letra maiuscula, numero e caractere especial
               </p>
             </div>

             {/* Role */}
             <div>
               <label
                 htmlFor="role"
                 className="mb-1 block text-sm font-medium text-gray-700"
               >
                 Cargo
               </label>
               <select
                 {...register('role')}
                 id="role"
                 className={`
                   block w-full rounded-lg border border-gray-300 px-4 py-3
                   focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20
                   ${errors.role ? 'border-red-500' : ''}
                 `}
               >
                 <option value="user">Tecnico</option>
                 <option value="manager">Gerente</option>
                 <option value="admin">Administrador</option>
               </select>
               {errors.role && (
                 <p className="mt-1 text-sm text-red-600">
                   {errors.role.message}
                 </p>
               )}
             </div>

             {/* Root error */}
             {errors.root && (
               <div className="rounded-lg bg-red-50 p-3 text-sm text-red-700">
                 {errors.root.message}
               </div>
             )}

             {/* Actions */}
             <div className="flex gap-3 pt-2">
               {onCancel && (
                 <button
                   type="button"
                   onClick={onCancel}
                   className="flex-1 rounded-lg border border-gray-300 px-4 py-2 text-gray-700 hover:bg-gray-50"
                 >
                   Cancelar
                 </button>
               )}
               <button
                 type="submit"
                 disabled={isSubmitting || createUser.isPending}
                 className="
                   flex flex-1 items-center justify-center
                   rounded-lg bg-blue-600 px-4 py-2 text-white
                   hover:bg-blue-700 disabled:opacity-50
                 "
               >
                 {(isSubmitting || createUser.isPending) ? (
                   <>
                     <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                     Criando...
                   </>
                 ) : (
                   'Criar Usuario'
                 )}
               </button>
             </div>
           </form>
         );
       }
       ```

    3. Create frontend/src/features/admin/components/CreateUserModal.tsx:
       ```typescript
       import { X } from 'lucide-react';
       import { CreateUserForm } from './CreateUserForm';

       interface CreateUserModalProps {
         isOpen: boolean;
         onClose: () => void;
       }

       export function CreateUserModal({ isOpen, onClose }: CreateUserModalProps) {
         if (!isOpen) return null;

         return (
           <div className="fixed inset-0 z-50 overflow-y-auto">
             {/* Backdrop */}
             <div
               className="fixed inset-0 bg-black/50 transition-opacity"
               onClick={onClose}
             />

             {/* Modal */}
             <div className="flex min-h-full items-center justify-center p-4">
               <div className="relative w-full max-w-md rounded-xl bg-white p-6 shadow-xl">
                 {/* Header */}
                 <div className="mb-4 flex items-center justify-between">
                   <h2 className="text-xl font-semibold text-gray-900">
                     Novo Usuario
                   </h2>
                   <button
                     onClick={onClose}
                     className="rounded-lg p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600"
                   >
                     <X className="h-5 w-5" />
                   </button>
                 </div>

                 {/* Form */}
                 <CreateUserForm onSuccess={onClose} onCancel={onClose} />
               </div>
             </div>
           </div>
         );
       }
       ```

    4. Create frontend/src/features/admin/components/index.ts:
       ```typescript
       export { UserList } from './UserList';
       export { CreateUserForm } from './CreateUserForm';
       export { CreateUserModal } from './CreateUserModal';
       ```

    5. Update frontend/src/features/admin/index.ts:
       ```typescript
       export { useUsers, useCreateUser, useDeleteUser, useUpdateUser } from './api';
       export { ROLE_LABELS } from './types';
       export { UserList, CreateUserForm, CreateUserModal } from './components';
       export type { UsersListResponse, CreateUserRequest } from './types';
       ```
  </action>
  <verify>
    cd frontend && npx tsc --noEmit src/features/admin/components/UserList.tsx src/features/admin/components/CreateUserForm.tsx
  </verify>
  <done>User management components created</done>
</task>

<task type="auto">
  <name>Task 3: Create UsersPage and update routing</name>
  <files>
    frontend/src/pages/UsersPage.tsx
    frontend/src/pages/index.ts
    frontend/src/App.tsx
  </files>
  <action>
    1. Create frontend/src/pages/UsersPage.tsx:
       ```typescript
       import { useState } from 'react';
       import { UserPlus } from 'lucide-react';
       import { UserList, CreateUserModal } from '@/features/admin';
       import { useAuthStore } from '@/features/auth';

       /**
        * User management page.
        *
        * Only accessible to admin and superadmin roles.
        * Allows viewing, creating, and deleting users.
        */
       export function UsersPage() {
         const [isModalOpen, setIsModalOpen] = useState(false);
         const { user } = useAuthStore();

         return (
           <div className="min-h-screen bg-gray-50">
             {/* Header */}
             <header className="bg-white shadow">
               <div className="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
                 <div className="flex items-center justify-between">
                   <div>
                     <h1 className="text-2xl font-bold text-gray-900">
                       Usuarios
                     </h1>
                     <p className="mt-1 text-sm text-gray-500">
                       Gerencie os usuarios do sistema
                     </p>
                   </div>
                   <button
                     onClick={() => setIsModalOpen(true)}
                     className="
                       inline-flex items-center rounded-lg
                       bg-blue-600 px-4 py-2 text-white
                       hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500
                     "
                   >
                     <UserPlus className="mr-2 h-5 w-5" />
                     Novo Usuario
                   </button>
                 </div>
               </div>
             </header>

             {/* Content */}
             <main className="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
               <UserList />
             </main>

             {/* Create User Modal */}
             <CreateUserModal
               isOpen={isModalOpen}
               onClose={() => setIsModalOpen(false)}
             />
           </div>
         );
       }
       ```

    2. Update frontend/src/pages/index.ts:
       ```typescript
       export { LoginPage } from './LoginPage';
       export { UnauthorizedPage } from './UnauthorizedPage';
       export { UsersPage } from './UsersPage';
       ```

    3. Update frontend/src/App.tsx to add users route and navigation:
       ```typescript
       import { BrowserRouter, Routes, Route, Link, useNavigate } from 'react-router-dom';
       import { QueryClientProvider } from '@tanstack/react-query';
       import { useEffect } from 'react';
       import { LogOut, Users, Home } from 'lucide-react';
       import { queryClient } from '@/lib/queryClient';
       import { LoginPage, UnauthorizedPage, UsersPage } from '@/pages';
       import {
         ProtectedRoute,
         useRefreshToken,
         useAuthStore,
         useLogout,
       } from '@/features/auth';

       function AuthInitializer({ children }: { children: React.ReactNode }) {
         const { isAuthenticated, accessToken, isLoading } = useAuthStore();
         const refresh = useRefreshToken();

         useEffect(() => {
           if (isAuthenticated && !accessToken && isLoading) {
             refresh.mutate();
           } else if (!isAuthenticated && isLoading) {
             useAuthStore.getState().setLoading(false);
           }
         }, [isAuthenticated, accessToken, isLoading, refresh]);

         return <>{children}</>;
       }

       function AppLayout({ children }: { children: React.ReactNode }) {
         const { user } = useAuthStore();
         const logout = useLogout();
         const navigate = useNavigate();

         const handleLogout = async () => {
           await logout.mutateAsync();
           navigate('/login');
         };

         const canManageUsers = user?.role === 'admin' || user?.role === 'superadmin';

         return (
           <div className="min-h-screen bg-gray-50">
             {/* Navigation */}
             <nav className="bg-white shadow">
               <div className="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                 <div className="flex h-16 justify-between">
                   <div className="flex items-center gap-8">
                     <Link to="/" className="text-xl font-bold text-gray-900">
                       SmartHand
                     </Link>
                     <div className="flex gap-4">
                       <Link
                         to="/"
                         className="flex items-center gap-1 text-gray-600 hover:text-gray-900"
                       >
                         <Home className="h-4 w-4" />
                         Dashboard
                       </Link>
                       {canManageUsers && (
                         <Link
                           to="/users"
                           className="flex items-center gap-1 text-gray-600 hover:text-gray-900"
                         >
                           <Users className="h-4 w-4" />
                           Usuarios
                         </Link>
                       )}
                     </div>
                   </div>
                   <div className="flex items-center gap-4">
                     <span className="text-sm text-gray-600">
                       {user?.full_name}
                     </span>
                     <button
                       onClick={handleLogout}
                       disabled={logout.isPending}
                       className="
                         flex items-center gap-1 rounded-lg
                         px-3 py-2 text-sm text-gray-600
                         hover:bg-gray-100 hover:text-gray-900
                       "
                     >
                       <LogOut className="h-4 w-4" />
                       Sair
                     </button>
                   </div>
                 </div>
               </div>
             </nav>

             {/* Page content */}
             {children}
           </div>
         );
       }

       function DashboardPage() {
         const { user } = useAuthStore();
         return (
           <AppLayout>
             <main className="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
               <h1 className="text-2xl font-bold text-gray-900">Dashboard</h1>
               <p className="mt-2 text-gray-600">
                 Bem-vindo, {user?.full_name}!
               </p>
               <p className="text-sm text-gray-500">
                 Cargo: {user?.role}
               </p>
             </main>
           </AppLayout>
         );
       }

       function UsersPageWithLayout() {
         return (
           <AppLayout>
             <UsersPage />
           </AppLayout>
         );
       }

       function App() {
         return (
           <QueryClientProvider client={queryClient}>
             <BrowserRouter>
               <AuthInitializer>
                 <Routes>
                   {/* Public routes */}
                   <Route path="/login" element={<LoginPage />} />
                   <Route path="/unauthorized" element={<UnauthorizedPage />} />

                   {/* Protected routes */}
                   <Route
                     path="/"
                     element={
                       <ProtectedRoute>
                         <DashboardPage />
                       </ProtectedRoute>
                     }
                   />
                   <Route
                     path="/users"
                     element={
                       <ProtectedRoute allowedRoles={['admin', 'superadmin']}>
                         <UsersPageWithLayout />
                       </ProtectedRoute>
                     }
                   />

                   {/* Catch-all redirect to login */}
                   <Route path="*" element={<LoginPage />} />
                 </Routes>
               </AuthInitializer>
             </BrowserRouter>
           </QueryClientProvider>
         );
       }

       export default App;
       ```
  </action>
  <verify>
    cd frontend && npm run type-check
  </verify>
  <done>Users page created with routing and navigation</done>
</task>

</tasks>

<verification>
1. npm run type-check passes
2. npm run dev starts without errors
3. Navigating to /users as admin shows user list
4. Navigating to /users as regular user redirects to /unauthorized
5. Clicking "Novo Usuario" opens creation modal
6. Creating user with weak password shows validation error
7. Creating user with valid data adds user to list
8. Deleting user removes them from list
9. Logout button clears session and redirects to login
</verification>

<success_criteria>
- /users route protected with allowedRoles=['admin', 'superadmin']
- UserList displays paginated user table
- CreateUserForm validates strong password
- CreateUserModal for new user creation
- User deletion with confirmation
- Navigation includes Users link for admins
- Logout button in header
- All text in Portuguese
- Role labels: Tecnico, Gerente, Administrador
</success_criteria>

<output>
After completion, create `.planning/phases/02-authentication-system/02-06-SUMMARY.md`
</output>
